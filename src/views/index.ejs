<!DOCTYPE html>
<html lang="it">
    <%- include("partials/head.ejs") %>
    <body>
        <div id="no-push" style="display: none">
            <div style="position: sticky">
                <div class="notification is-danger">
                    <button class="delete"></button>
                    <p style="padding-bottom: 2rem">
                        Il tuo browser non supporta le notifiche (oppure le hai
                        disattivate per questo sito).
                    </p>
                    <p>Abilitale qua:</p>
                    <img src="http://puu.sh/HAuqk/00220633cb.png" />
                </div>
            </div>
        </div>

        <div id="content">
            <nav class="navbar">
                <div class="navbar-brand">
                    <a href="/">
                        <div class="navbar-item">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="#fff"
                            >
                                <path
                                    d="M17 3v-2c0-.552.447-1 1-1s1 .448 1 1v2c0 .552-.447 1-1 1s-1-.448-1-1zm-12 1c.553 0 1-.448 1-1v-2c0-.552-.447-1-1-1-.553 0-1 .448-1 1v2c0 .552.447 1 1 1zm13 13v-3h-1v4h3v-1h-2zm-5 .5c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5-2.019-4.5-4.5-4.5-4.5 2.019-4.5 4.5zm11 0c0 3.59-2.91 6.5-6.5 6.5s-6.5-2.91-6.5-6.5 2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5zm-14.237 3.5h-7.763v-13h19v1.763c.727.33 1.399.757 2 1.268v-9.031h-3v1c0 1.316-1.278 2.339-2.658 1.894-.831-.268-1.342-1.111-1.342-1.984v-.91h-9v1c0 1.316-1.278 2.339-2.658 1.894-.831-.268-1.342-1.111-1.342-1.984v-.91h-3v21h11.031c-.511-.601-.938-1.273-1.268-2z"
                                />
                            </svg>
                            <p class="navbar-item title is-3">
                                Link lezioni 4F
                            </p>
                        </div>
                    </a>

                    <a
                        role="button"
                        class="navbar-burger has-text-white"
                        aria-label="menu"
                        aria-expanded="false"
                        data-target="navbarMenu"
                    >
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                    </a>
                </div>

                <div id="navbarMenu" class="navbar-menu">
                    <div class="navbar-end">
                        <div class="navbar-item">
                            <%- include("partials/navbarRight.ejs") %>
                        </div>
                    </div>
                </div>
            </nav>
            <div class="container">
                <div
                    class="notification is-info"
                    id="pw-info"
                    style="display: none"
                ></div>
                <!-- PRIVACY SUSPENSION -->
                <!-- <div class="message is-info box" style="padding: 0; margin: auto">
                <div class="message-header">
                    <p>Sospensione temporanea</p>
                </div>
                <div class="message-body" style="background-color: white">
                    <p>
                        <a href="https://lezioni.bitrey.it/"
                            >lezioni.bitrey.it</a
                        >
                        è temporaneamente sospeso.
                    </p>
                    <p>
                        Verrà implementato un sistema di autenticazione a breve.
                    </p>
                </div>
            </div> -->

                <!-- <div
                class="message is-danger box"
                id="dad-warning"
                style="padding: 0"
            >
                <div class="message-header">
                    <p>#IORESTOINDAD</p>
                    <button
                        class="delete"
                        aria-label="delete"
                        onclick="removeDadWarning()"
                    ></button>
                </div>
                <div class="message-body">
                    <p>
                        Vogliamo andare a scuola in condizioni di sicurezza per
                        tutelare noi stessi e i nostri cari.
                    </p>

                    <p>
                        I contagi sono alle stelle, il preavviso è stato minimo,
                        non c'è organizzazione dei trasporti.
                    </p>

                    <p>
                        Noi non siamo stati interpellati e faremo sentire la
                        nostra voce!
                    </p>

                    <p><strong>#iorestoindad</strong></p>
                </div>
            </div> -->

                <!-- Cancella parte privacy -->
                <div class="message is-info box" style="padding: 0">
                    <div class="message-header">
                        <p>
                            Sono le <span id="ora-attuale">XX</span> del
                            <span id="data-attuale">XX</span>
                        </p>
                    </div>
                    <div class="message-body" style="background-color: white">
                        <div class="columns" style="align-items: center">
                            <div class="column">
                                <p id="materia-attuale">
                                    Caricamento materia attuale...
                                </p>
                                <p id="note-materia">
                                    Note:

                                    <span
                                        id="note-materia-span"
                                        style="font-weight: 600"
                                    >
                                        Caricamento note materia...
                                    </span>
                                </p>
                                <a
                                    href="#"
                                    id="link-attuale"
                                    style="display: none"
                                    target="_blank"
                                    class="subtitle is-6"
                                ></a>

                                <div
                                    id="prossima-materia-div"
                                    style="display: none"
                                >
                                    <p id="prossima-materia">
                                        Caricamento prossima materia...
                                    </p>
                                    <p id="note-prossima">
                                        Note:

                                        <span
                                            id="note-prossima-span"
                                            style="font-weight: 600"
                                        >
                                            Caricamento note materia...
                                        </span>
                                    </p>
                                    <a
                                        href="#"
                                        id="link-prossima"
                                        target="_blank"
                                        class="subtitle is-6"
                                    ></a>
                                </div>
                            </div>

                            <div class="column">
                                <div id="sound-div">
                                    <div id="bong-file" class="file has-name">
                                        <label class="file-label">
                                            <input
                                                class="file-input"
                                                id="sound-upload"
                                                type="file"
                                                name="resume"
                                            />
                                            <span class="file-cta">
                                                <span class="file-icon">
                                                    <svg
                                                        xmlns="http://www.w3.org/2000/svg"
                                                        width="24"
                                                        height="24"
                                                        viewBox="0 0 24 24"
                                                        fill="#1d72aa"
                                                        class="svg"
                                                    >
                                                        <path
                                                            d="M23 0l-15.996 3.585v13.04c-2.979-.589-6.004 1.671-6.004 4.154 0 2.137 1.671 3.221 3.485 3.221 2.155 0 4.512-1.528 4.515-4.638v-10.9l12-2.459v8.624c-2.975-.587-6 1.664-6 4.141 0 2.143 1.715 3.232 3.521 3.232 2.14 0 4.476-1.526 4.479-4.636v-17.364z"
                                                        />
                                                    </svg>
                                                </span>
                                                <span class="file-label">
                                                    Scegli un suono
                                                </span>
                                            </span>
                                            <span class="file-name"
                                                >snapchat.mp3</span
                                            >
                                        </label>
                                    </div>
                                    <button
                                        style="margin-left: 1rem"
                                        class="button"
                                        id="play-sound-btn"
                                        onclick="playSound()"
                                    >
                                        <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            width="24"
                                            height="24"
                                            viewBox="0 0 24 24"
                                            class="svg"
                                            fill="#1d72aa"
                                        >
                                            <path
                                                d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-3 17v-10l9 5.146-9 4.854z"
                                            />
                                        </svg>
                                    </button>
                                </div>
                                <div style="display: flex; align-items: center">
                                    <label
                                        for="volume"
                                        style="padding-right: 1rem"
                                        >Volume</label
                                    >
                                    <input
                                        class="slider is-fullwidth"
                                        step="1"
                                        min="0"
                                        max="100"
                                        value="50"
                                        type="range"
                                        id="volume"
                                        oninput="changeVolume()"
                                    />
                                    <span
                                        id="vol-percentage"
                                        style="padding-left: 0.5rem"
                                        >50</span
                                    >%
                                </div>

                                <span style="padding-right: 1rem">
                                    Quando sono i
                                    <span
                                        id="minutes-bong"
                                        contenteditable="true"
                                        >59</span
                                    >:
                                </span>

                                <label
                                    class="checkbox top-label"
                                    style="padding-top: 0.5rem"
                                >
                                    <input type="checkbox" id="do-play-sound" />
                                    Suona
                                </label>

                                <label
                                    class="checkbox top-label"
                                    style="padding-left: 1rem"
                                >
                                    <input type="checkbox" id="do-push" />
                                    Notifica push
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <article class="message">
                    <div class="message-header">
                        <p>Tema scuro</p>
                    </div>
                    <div
                        class="message-body"
                        style="background-color: #36393f !important; padding: 0"
                    >
                        <div
                            class="card"
                            style="background-color: #36393f !important"
                        >
                            <div class="card-content" style="padding: 0">
                                <div class="content">
                                    <div class="toggle-container">
                                        <div class="power-switch">
                                            <input
                                                id="power-cb"
                                                type="checkbox"
                                            />
                                            <div class="button-toggle">
                                                <svg class="power-off">
                                                    <use
                                                        xlink:href="#line"
                                                        class="line"
                                                    ></use>
                                                    <use
                                                        xlink:href="#circle"
                                                        class="circle"
                                                    ></use>
                                                </svg>
                                                <svg class="power-on">
                                                    <use
                                                        xlink:href="#line"
                                                        class="line"
                                                    ></use>
                                                    <use
                                                        xlink:href="#circle"
                                                        class="circle"
                                                    ></use>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>

                <!-- SVG -->
                <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
                    <symbol
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 150 150"
                        id="line"
                    >
                        <line x1="75" y1="34" x2="75" y2="58"></line>
                    </symbol>
                    <symbol
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 150 150"
                        id="circle"
                    >
                        <circle cx="75" cy="80" r="35"></circle>
                    </symbol>
                </svg>

                <div
                    class="message is-warning box"
                    id="global-warning"
                    style="padding: 0"
                >
                    <div class="message-header">
                        <p class="message-title">Avviso</p>
                        <button
                            class="delete"
                            aria-label="delete"
                            onclick="removeGlobalWarning()"
                        ></button>
                    </div>
                    <div class="message-body">
                        <p class="message-p">
                            Gli orari sono aggiornati per lunedì 12 aprile.
                        </p>
                    </div>
                </div>

                <div id="materie" style="margin-bottom: 2rem"></div>
            </div>
            <p id="orari-server" style="display: none"><%= orari %></p>
        </div>
    </body>
    <script>
        const fileInput = document.querySelector("#bong-file input[type=file]");
        fileInput.onchange = () => {
            if (fileInput.files.length > 0) {
                const fileName = document.querySelector(
                    "#bong-file .file-name"
                );
                fileName.textContent = fileInput.files[0].name;
            }
        };
    </script>
    <script
        src="https://cdn.jsdelivr.net/npm/bulma-slider@2.0.4/dist/js/bulma-slider.min.js"
        integrity="sha256-5SDp724yI+z7tQtGSdI4r1qFr5FhgArR0APayA10jyQ="
        crossorigin="anonymous"
        defer
    ></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            (document.querySelectorAll(".notification .delete") || []).forEach(
                $delete => {
                    const $notification = $delete.parentNode;

                    $delete.addEventListener("click", () => {
                        document.getElementById("no-push").style.display =
                            "none";
                        document
                            .getElementById("content")
                            .classList.remove("blur");
                        document
                            .getElementById("content")
                            .classList.add("focus");
                    });
                }
            );
        });
    </script>
    <script src="/js/index.js" defer></script>
</html>
